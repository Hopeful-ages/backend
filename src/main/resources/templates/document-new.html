<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title th:text="${titulo}">Relatório de Terremoto</title>
    <style>
        @page {
            size: A4;
            margin: 20mm 15mm 20mm 15mm;
        }

        body {
            font-family: "Open Sans Bold", serif;
            font-size: 18px;
            line-height: 1.3;
            color: #000;
            margin: 0;
            padding: 0;
        }

        .watermark {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 0;
            width: 70%;
            max-width: 600px;
        }

        .document-container {
            border: 1.5px solid #000;
            box-sizing: border-box;
            position: relative;
            z-index: 1;
        }

        .header {
            padding: 10px;
        }

        .title {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 50px;
            font-weight: bold;
            margin: 0;
        }

        .info-table {
            font-family: Arial, Helvetica, sans-serif;
            border-top: 1.5px solid #000;
            border-bottom: 1.5px solid #000;
            width: 100%;
            border-collapse: collapse;
        }

        .info-table td {
            padding: 4px 6px;
            background-color: #ffffff;
        }

        .info-label {
            font-weight: bold;
            background-color: #f0f0f0;
        }

        .info-value {
            width: 33%;
        }

        .parameter-box {
            font-family: Arial, Helvetica, sans-serif;
            border: 1.5px solid #000;
            background-color: #ffffff;
            padding: 12px;
            margin: 8px 0;
        }

        .parameter-item {
            margin-bottom: 8px;
        }

        .parameter-item:last-child {
            margin-bottom: 0;
        }

        .parameter-label {
            font-weight: bold;
            margin-right: 8px;
        }

        .parameter-value {
            width: 80%;
        }

        .info-table td:nth-child(3),
        .info-table td:nth-child(5) {
            border-left: 1.5px solid #000;
        }

        .description-section {
            font-family: Arial, Helvetica, sans-serif;
            text-align: justify;
            line-height: 1.8;
            padding: 8px;
        }

        .description-label {
            font-weight: bold;
            display: inline;
        }

        .section-header {
            font-family: Arial, Helvetica, sans-serif;
            border-top: 1.5px solid #000;
            border-bottom: 1.5px solid #000;
            padding: 4px 8px;
            font-weight: bold;
            font-size: 18px;
            margin: 15px 0 8px 0;
        }

        .task-list {
            font-family: Arial, Helvetica, sans-serif;
            margin: 8px 0 8px 0px;
            text-align: justify;
            line-height: 1.8;
            list-style: none;
            margin-right: 22px;
        }

        .task-list li {
            margin-bottom: 8px;
            text-align: justify;
            position: relative;
            padding-left: 30px;
        }

        .task-list li::before {
            content: "";
            position: absolute;
            margin-top: 10px;
            width: 15px;
            height: 15px;
            border: 1.5px solid #000;
            background: #fff;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <img th:if="${watermarkImage}" th:src="|data:image/png;base64,${watermarkImage}|" alt="watermark" class="watermark" />

    <div class="document-container">
        <div class="header">
            <div class="title" th:text="${titulo}">Terremotos</div>
        </div>

        <table class="info-table">
            <tr>
                <td class="info-label">ORIGEM:</td>
                <td class="info-value" th:text="${origem}">Natural</td>
                <td class="info-label">SUBGRUPO:</td>
                <td class="info-value" th:text="${subgrupo}">Geológico</td>
                <td class="info-label">CÓDIGO:</td>
                <td class="info-value" th:text="${codigo}">1.1.1</td>
            </tr>
        </table>

        <div class="description-section">
            <span class="description-label">DESCRIÇÃO:</span>
            <span th:utext="${descricao}">
                <b>1. Tremor de terra:</b> Vibrações do terreno que provocam
                oscilações verticais e horizontais na superfície da Terra
                (ondas sísmicas).
            </span>
        </div>

        <!-- 1.0 FLUXO DE RESPOSTA -->
        <div th:if="${antes} and (${parametrosAntes} or ${acaoAntes})">
            <div class="section-header">1.0 FLUXO DE RESPOSTA</div>
            <div class="parameter-box">
                <div class="parameter-item">
                    <span class="parameter-label">Parâmetros:</span>
                    <span class="parameter-value" th:text="${parametrosAntes}">-</span>
                </div>
                <div class="parameter-item">
                    <span class="parameter-label">Ação:</span>
                    <span class="parameter-value" th:text="${acaoAntes}">-</span>
                </div>
            </div>
        </div>

        <!-- 1.0 ANTES DOS EVENTOS -->
        <div th:if="${antes}">
            <div class="section-header">1.0 O QUE FAZER ANTES DE <span th:text="${titulo}">TREMOR</span></div>
            <ul class="task-list">
                <li th:each="item : ${antes}" th:text="${item}"></li>
            </ul>
        </div>

        <!-- 2.0 FLUXO DE RESPOSTA -->
        <div th:if="${durante} and (${parametrosDurante} or ${acaoDurante})">
            <div class="section-header">2.0 FLUXO DE RESPOSTA</div>
            <div class="parameter-box">
                <div class="parameter-item">
                    <span class="parameter-label">Parâmetros:</span>
                    <span class="parameter-value" th:text="${parametrosDurante}">-</span>
                </div>
                <div class="parameter-item">
                    <span class="parameter-label">Ação:</span>
                    <span class="parameter-value" th:text="${acaoDurante}">-</span>
                </div>
            </div>
        </div>

        <!-- 2.0 DURANTE OS EVENTOS -->
        <div th:if="${durante}">
            <div class="section-header">2.0 DURANTE OS <span th:text="${titulo}">TREMORES</span></div>
            <ul class="task-list">
                <li th:each="item : ${durante}" th:text="${item}"></li>
            </ul>
        </div>

        <!-- 3.0 FLUXO DE RESPOSTA -->
        <div th:if="${apos} and (${parametrosApos} or ${acaoApos})">
            <div class="section-header">3.0 FLUXO DE RESPOSTA</div>
            <div class="parameter-box">
                <div class="parameter-item">
                    <span class="parameter-label">Parâmetros:</span>
                    <span class="parameter-value" th:text="${parametrosApos}">-</span>
                </div>
                <div class="parameter-item">
                    <span class="parameter-label">Ação:</span>
                    <span class="parameter-value" th:text="${acaoApos}">-</span>
                </div>
            </div>
        </div>

        <!-- 3.0 APÓS OS EVENTOS -->
        <div th:if="${apos}">
            <div class="section-header">3.0 APÓS OS <span th:text="${titulo}">TREMORES</span></div>
            <ul class="task-list">
                <li th:each="item : ${apos}" th:text="${item}"></li>
            </ul>
        </div>
    </div>
</body>
</html>
